{"version":3,"sources":["../../src/schema/context.js"],"names":["LocalNodeModel","require","defaultFieldResolver","withResolverContext","schema","schemaComposer","context","customContext","nodeModel","stats","nodeStore","createPageDependency","withContext","path","undefined","module","exports"],"mappings":";;AAAA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAqBC,OAAO,CAAE,cAAF,CAAlC;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAA2BD,OAAO,CAAE,aAAF,CAAxC;;AAEA,MAAME,mBAAmB,GAAG,CAAC;AAC3BC,EAAAA,MAD2B;AAE3BC,EAAAA,cAF2B;AAG3BC,EAAAA,OAH2B;AAI3BC,EAAAA,aAJ2B;AAK3BC,EAAAA,SAL2B;AAM3BC,EAAAA;AAN2B,CAAD,KAOtB;AACJ,QAAMC,SAAS,GAAGT,OAAO,CAAE,aAAF,CAAzB;;AAEA,MAAI,CAACO,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAG,IAAIR,cAAJ,CAAmB;AAC7BU,MAAAA,SAD6B;AAE7BN,MAAAA,MAF6B;AAG7BC,MAAAA,cAH6B;AAI7BM,MAAAA,oBAAoB,EAApBA;AAJ6B,KAAnB,CAAZ;AAMD;;AAED,SAAO,EACL,IAAIL,OAAO,IAAI,EAAf,CADK;AAEL,QAAIC,aAAa,IAAI,EAArB,CAFK;AAGLL,IAAAA,oBAHK;AAILM,IAAAA,SAAS,EAAEA,SAAS,CAACI,WAAV,CAAsB;AAC/BC,MAAAA,IAAI,EAAEP,OAAO,GAAGA,OAAO,CAACO,IAAX,GAAkBC;AADA,KAAtB,CAJN;AAOLL,IAAAA;AAPK,GAAP;AASD,CA5BD;;AA8BAM,MAAM,CAACC,OAAP,GAAiBb,mBAAjB","sourcesContent":["import { createPageDependency } from \"../redux/actions/add-page-dependency\"\n\nconst { LocalNodeModel } = require(`./node-model`)\nconst { defaultFieldResolver } = require(`./resolvers`)\n\nconst withResolverContext = ({\n  schema,\n  schemaComposer,\n  context,\n  customContext,\n  nodeModel,\n  stats,\n}) => {\n  const nodeStore = require(`../db/nodes`)\n\n  if (!nodeModel) {\n    nodeModel = new LocalNodeModel({\n      nodeStore,\n      schema,\n      schemaComposer,\n      createPageDependency,\n    })\n  }\n\n  return {\n    ...(context || {}),\n    ...(customContext || {}),\n    defaultFieldResolver,\n    nodeModel: nodeModel.withContext({\n      path: context ? context.path : undefined,\n    }),\n    stats,\n  }\n}\n\nmodule.exports = withResolverContext\n"],"file":"context.js"}