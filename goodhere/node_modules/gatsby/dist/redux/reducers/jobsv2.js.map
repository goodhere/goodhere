{"version":3,"sources":["../../../src/redux/reducers/jobsv2.js"],"names":["module","exports","state","incomplete","Map","complete","action","type","job","plugin","payload","set","contentDigest","jobContentDigest","result","get","delete","inputPaths"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB,CACfC,KAAK,GAAG;AAAEC,EAAAA,UAAU,EAAE,IAAIC,GAAJ,EAAd;AAAyBC,EAAAA,QAAQ,EAAE,IAAID,GAAJ;AAAnC,CADO,EAEfE,MAFe,KAGZ;AACH,UAAQA,MAAM,CAACC,IAAf;AACE,SAAM,eAAN;AAAsB;AACpB,cAAM;AAAEC,UAAAA,GAAF;AAAOC,UAAAA;AAAP,YAAkBH,MAAM,CAACI,OAA/B;AAEAR,QAAAA,KAAK,CAACC,UAAN,CAAiBQ,GAAjB,CAAqBH,GAAG,CAACI,aAAzB,EAAwC;AACtCJ,UAAAA,GADsC;AAEtCC,UAAAA;AAFsC,SAAxC;AAKA,eAAOP,KAAP;AACD;;AAED,SAAM,YAAN;AAAmB;AACjB,cAAM;AAAEW,UAAAA,gBAAF;AAAoBC,UAAAA;AAApB,YAA+BR,MAAM,CAACI,OAA5C;AACA,cAAM;AAAEF,UAAAA;AAAF,YAAUN,KAAK,CAACC,UAAN,CAAiBY,GAAjB,CAAqBF,gBAArB,CAAhB;AAEAX,QAAAA,KAAK,CAACC,UAAN,CAAiBa,MAAjB,CAAwBR,GAAG,CAACI,aAA5B,EAJiB,CAMjB;;AACAV,QAAAA,KAAK,CAACG,QAAN,CAAeM,GAAf,CAAmBH,GAAG,CAACI,aAAvB,EAAsC;AACpCE,UAAAA,MADoC;AAEpCG,UAAAA,UAAU,EAAET,GAAG,CAACS;AAFoB,SAAtC;AAKA,eAAOf,KAAP;AACD;;AAED,SAAM,qBAAN;AAA4B;AAC1B,cAAM;AAAEU,UAAAA;AAAF,YAAoBN,MAAM,CAACI,OAAjC;AACAR,QAAAA,KAAK,CAACC,UAAN,CAAiBa,MAAjB,CAAwBJ,aAAxB;AACAV,QAAAA,KAAK,CAACG,QAAN,CAAeW,MAAf,CAAsBJ,aAAtB;AAEA,eAAOV,KAAP;AACD;AAjCH;;AAoCA,SAAOA,KAAP;AACD,CAzCD","sourcesContent":["module.exports = (\n  state = { incomplete: new Map(), complete: new Map() },\n  action\n) => {\n  switch (action.type) {\n    case `CREATE_JOB_V2`: {\n      const { job, plugin } = action.payload\n\n      state.incomplete.set(job.contentDigest, {\n        job,\n        plugin,\n      })\n\n      return state\n    }\n\n    case `END_JOB_V2`: {\n      const { jobContentDigest, result } = action.payload\n      const { job } = state.incomplete.get(jobContentDigest)\n\n      state.incomplete.delete(job.contentDigest)\n\n      // inputPaths is used to make sure the job is not stale\n      state.complete.set(job.contentDigest, {\n        result,\n        inputPaths: job.inputPaths,\n      })\n\n      return state\n    }\n\n    case `REMOVE_STALE_JOB_V2`: {\n      const { contentDigest } = action.payload\n      state.incomplete.delete(contentDigest)\n      state.complete.delete(contentDigest)\n\n      return state\n    }\n  }\n\n  return state\n}\n"],"file":"jobsv2.js"}